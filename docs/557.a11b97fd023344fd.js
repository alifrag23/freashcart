"use strict";(self.webpackChunkfreshCart=self.webpackChunkfreshCart||[]).push([[557],{7557:(p,d,s)=>{s.r(d),s.d(d,{CashpaymentComponent:()=>e});var u=s(6814),r=s(95),t=s(4769),c=s(6286),i=s(1120),m=s(2425);let e=(()=>{class n{constructor(l,a,o,_,h){this._CartService=l,this._Renderer2=a,this._ActivatedRoute=o,this._toastr=_,this._Router=h,this.addressInfo=new r.cw({details:new r.NI(""),phone:new r.NI(""),city:new r.NI("")})}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:l=>{this.cartId=l.get("id")}})}getAddressInfo(l,a){this._Renderer2.setAttribute(a,"disabled","true"),console.log(l.value),this._CartService.payCash(this.cartId,l.value).subscribe({next:o=>{this._Renderer2.removeAttribute(a,"disabled"),console.log(o),"success"==o.status&&(this._toastr.success(o.status),this._Router.navigate(["/allorders"]))},error:o=>{this._Renderer2.removeAttribute(a,"disabled"),console.log(o)}})}static#t=this.\u0275fac=function(a){return new(a||n)(t.Y36(c.N),t.Y36(t.Qsj),t.Y36(i.gz),t.Y36(m._W),t.Y36(i.F0))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-cashpayment"]],standalone:!0,features:[t.jDz],decls:17,vars:1,consts:[[1,"w-75","mx-auto","bg-body-secondary","shadow-sm","p-5","mb-5"],[3,"formGroup","ngSubmit"],[1,"pt-2"],["for","Address"],["type","text","id","Address","placeholder","Enter Your Address","formControlName","details",1,"form-control","my-1"],[1,"py-2"],["for","Phone"],["type","tel","id","Phone","placeholder","Enter Your Phone","formControlName","phone",1,"form-control","my-1"],[1,"pb-2"],["for","City"],["type","text","id","City","placeholder","Enter Your City","formControlName","city",1,"form-control","my-1"],["type","submit",1,"p-3","py-2","main-btn","btn"],["checkOut",""]],template:function(a,o){if(1&a){const _=t.EpF();t.TgZ(0,"section",0)(1,"form",1),t.NdJ("ngSubmit",function(){t.CHM(_);const C=t.MAs(15);return t.KtG(o.getAddressInfo(o.addressInfo,C))}),t.TgZ(2,"div",2)(3,"label",3),t._uU(4,"Address"),t.qZA(),t._UZ(5,"input",4),t.qZA(),t.TgZ(6,"div",5)(7,"label",6),t._uU(8,"Phone"),t.qZA(),t._UZ(9,"input",7),t.qZA(),t.TgZ(10,"div",8)(11,"label",9),t._uU(12,"City"),t.qZA(),t._UZ(13,"input",10),t.qZA(),t.TgZ(14,"button",11,12),t._uU(16,"Check Out"),t.qZA()()()}2&a&&(t.xp6(1),t.Q6J("formGroup",o.addressInfo))},dependencies:[u.ez,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u]})}return n})()},6286:(p,d,s)=>{s.d(d,{N:()=>c});var u=s(5619),r=s(4769),t=s(9862);let c=(()=>{class i{constructor(e){this._HttpClient=e,this.baseUrl="https://route-ecommerce.onrender.com",this.cartNumber=new u.X(0)}addCart(e){return this._HttpClient.post(this.baseUrl+"/api/v1/cart",{productId:e})}displayCart(){return this._HttpClient.get(this.baseUrl+"/api/v1/cart")}deletProduct(e){return this._HttpClient.delete(this.baseUrl+`/api/v1/cart/${e}`)}clearCart(){return this._HttpClient.delete(this.baseUrl+"/api/v1/cart")}changeCount(e,n){return this._HttpClient.put(this.baseUrl+`/api/v1/cart/${e}`,{count:n})}payment(e,n){return this._HttpClient.post(this.baseUrl+`/api/v1/orders/checkout-session/${e}?url=https://github.com/alifrag23/freshStore`,{shippingAddress:n})}payCash(e,n){return this._HttpClient.post(this.baseUrl+`/api/v1/orders/${e}`,{shippingAddress:n})}getAllOreder(e){return this._HttpClient.get(this.baseUrl+`/api/v1/orders/user/${e}`)}static#t=this.\u0275fac=function(n){return new(n||i)(r.LFG(t.eN))};static#e=this.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()}}]);