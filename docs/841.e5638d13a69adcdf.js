"use strict";(self.webpackChunkfreshCart=self.webpackChunkfreshCart||[]).push([[841],{6841:(E,i,l)=>{l.r(i),l.d(i,{UpdatePassComponent:()=>I});var _=l(6814),a=l(95),e=l(4769),m=l(847),c=l(1120);function g(t,n){if(1&t&&(e.TgZ(0,"p",12),e._UZ(1,"i",13),e._uU(2),e.qZA()),2&t){const o=e.oxw();e.xp6(2),e.hij(" ",o.errorMessage," ")}}function f(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1," Password is Required ! "),e.qZA())}function P(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1," Password is minLength 3 "),e.qZA())}function w(t,n){if(1&t&&(e.TgZ(0,"div",14),e.YNc(1,f,2,0,"p",15),e.YNc(2,P,2,0,"p",15),e.qZA()),2&t){const o=e.oxw();let s,r;e.xp6(1),e.Q6J("ngIf",null==(s=o.updateForm.get("currentPassword"))?null:s.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=o.updateForm.get("currentPassword"))?null:r.getError("pattern"))}}function v(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1," Password is Required ! "),e.qZA())}function Z(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1," Password is minLength 3 "),e.qZA())}function U(t,n){if(1&t&&(e.TgZ(0,"div",14),e.YNc(1,v,2,0,"p",15),e.YNc(2,Z,2,0,"p",15),e.qZA()),2&t){const o=e.oxw();let s,r;e.xp6(1),e.Q6J("ngIf",null==(s=o.updateForm.get("password"))?null:s.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=o.updateForm.get("password"))?null:r.getError("pattern"))}}function h(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1," rePassword is Required "),e.qZA())}function T(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1," Password confirmation is incorrect "),e.qZA())}function C(t,n){if(1&t&&(e.TgZ(0,"div",14),e.YNc(1,h,2,0,"p",15),e.YNc(2,T,2,0,"p",15),e.qZA()),2&t){const o=e.oxw();let s,r;e.xp6(1),e.Q6J("ngIf",null==(s=o.updateForm.get("rePassword"))?null:s.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=o.updateForm.get("rePassword"))?null:r.getError("misMatch"))}}let I=(()=>{class t{constructor(o,s){this._PasswordService=o,this._Router=s,this.errorMessage="",this.errorMessageState=!1,this.updateForm=new a.cw({currentPassword:new a.NI("",[a.kI.required,a.kI.pattern(/^[a-zA-Z0-9!@#$%*]{6,}$/)]),password:new a.NI("",[a.kI.required,a.kI.pattern(/^[a-zA-Z0-9!@#$%*]{6,}$/)]),rePassword:new a.NI("")},{validators:[this.confirmPassword]})}handelUpdate(o){console.log(o.value),this._PasswordService.updatePass(o.value).subscribe({next:s=>{console.log(s),"success"==s.message&&(localStorage.removeItem("_token"),this._Router.navigate(["/login"]))},error:s=>{console.log(s),this.errorMessage=s.error.message,this.errorMessageState=!0}})}confirmPassword(o){const s=o.get("password"),r=o.get("rePassword");""==r?.value?r.setErrors({requerd:!0}):r?.value!=s?.value&&r?.setErrors({misMatch:!0})}static#e=this.\u0275fac=function(s){return new(s||t)(e.Y36(m.C),e.Y36(c.F0))};static#r=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-update-pass"]],standalone:!0,features:[e.jDz],decls:20,vars:5,consts:[[1,"w-75","mx-auto","shadow","bg-body-secondary","p-5"],["class","alert alert-danger ps-1",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"py-1"],["for","currentPassword"],["type","password","id","currentPassword","placeholder","Enter Your Current Password","formControlName","currentPassword",1,"m-1","form-control"],["class","alert alert-danger text-center py-0 pt-1",4,"ngIf"],["for","password"],["type","password","id","password","placeholder","Enter New Password","formControlName","password",1,"m-1","form-control"],["for","rePassword"],["type","password","id","rePassword","placeholder","Confirm Password","formControlName","rePassword",1,"m-1","form-control"],["type","submit",1,"main-btn","d-block","ms-auto","py2","px-3"],[1,"alert","alert-danger","ps-1"],[1,"px-3","fa-solid","fa-triangle-exclamation"],[1,"alert","alert-danger","text-center","py-0","pt-1"],[4,"ngIf"]],template:function(s,r){if(1&s&&(e.TgZ(0,"section",0),e.YNc(1,g,3,1,"p",1),e.TgZ(2,"form",2),e.NdJ("ngSubmit",function(){return r.handelUpdate(r.updateForm)}),e.TgZ(3,"div",3)(4,"label",4),e._uU(5,"CurrentPassword"),e.qZA(),e._UZ(6,"input",5),e.YNc(7,w,3,2,"div",6),e.qZA(),e.TgZ(8,"div",3)(9,"label",7),e._uU(10,"password"),e.qZA(),e._UZ(11,"input",8),e.YNc(12,U,3,2,"div",6),e.qZA(),e.TgZ(13,"div",3)(14,"label",9),e._uU(15,"RePassword"),e.qZA(),e._UZ(16,"input",10),e.YNc(17,C,3,2,"div",6),e.qZA(),e.TgZ(18,"button",11),e._uU(19," Update "),e.qZA()()()),2&s){let p,u,d;e.xp6(1),e.Q6J("ngIf",r.errorMessageState),e.xp6(1),e.Q6J("formGroup",r.updateForm),e.xp6(5),e.Q6J("ngIf",(null==r.updateForm||null==(p=r.updateForm.get("currentPassword"))?null:p.errors)&&((null==(p=r.updateForm.get("currentPassword"))?null:p.touched)||(null==(p=r.updateForm.get("currentPassword"))?null:p.value.length)>0)),e.xp6(5),e.Q6J("ngIf",(null==r.updateForm||null==(u=r.updateForm.get("password"))?null:u.errors)&&((null==(u=r.updateForm.get("password"))?null:u.touched)||(null==(u=r.updateForm.get("password"))?null:u.value.length)>0)),e.xp6(5),e.Q6J("ngIf",(null==r.updateForm||null==(d=r.updateForm.get("rePassword"))?null:d.errors)&&((null==(d=r.updateForm.get("rePassword"))?null:d.touched)||(null==(d=r.updateForm.get("rePassword"))?null:d.value.length)>0))}},dependencies:[_.ez,_.O5,a.UX,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u]})}return t})()}}]);