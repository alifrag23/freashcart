"use strict";(self.webpackChunkfreshCart=self.webpackChunkfreshCart||[]).push([[890],{8890:(v,p,e)=>{e.r(p),e.d(p,{WashlistComponent:()=>W});var a=e(6814),d=e(1120),u=e(1409),t=e(4769),_=e(8801),l=e(6286),r=e(2425);function c(o,m){1&o&&(t.TgZ(0,"h3",4),t._uU(1,"WhishList ..."),t.qZA())}const C=function(o){return["/productdetails",o]};function f(o,m){if(1&o){const s=t.EpF();t.TgZ(0,"div",7)(1,"div",8)(2,"div",9),t._UZ(3,"img",10),t.TgZ(4,"h3",11),t._uU(5),t.qZA(),t.TgZ(6,"h4",12),t._uU(7),t.ALo(8,"cutText"),t.qZA(),t.TgZ(9,"div",13)(10,"span",14),t._uU(11),t.ALo(12,"currency"),t.qZA(),t.TgZ(13,"span",15),t._UZ(14,"i",16),t._uU(15),t.qZA()()(),t.TgZ(16,"button",17,18),t.NdJ("click",function(){const h=t.CHM(s).$implicit,g=t.MAs(17),U=t.oxw(2);return t.KtG(U.addCart(h._id,g))}),t._uU(18," + Add To Cart "),t.qZA(),t.TgZ(19,"span",19),t.NdJ("click",function(){const h=t.CHM(s).$implicit,g=t.oxw(2);return t.KtG(g.removeFromWashlist(h._id))}),t._UZ(20,"i",20),t.qZA()()()}if(2&o){const s=m.$implicit;t.xp6(2),t.Q6J("routerLink",t.VKq(13,C,s._id)),t.xp6(1),t.Q6J("src",s.imageCover,t.LSH)("alt",s.title),t.xp6(2),t.hij(" ",s.category.name," "),t.xp6(2),t.hij(" ",t.xi3(8,7,s.title,3)," "),t.xp6(4),t.hij("",t.xi3(12,10,s.price,"EGP")," "),t.xp6(4),t.hij(" ",s.ratingsAverage," ")}}function E(o,m){if(1&o&&(t.TgZ(0,"div",5),t.YNc(1,f,21,15,"div",6),t.qZA()),2&o){const s=t.oxw();t.xp6(1),t.Q6J("ngForOf",s.allProduct)}}function x(o,m){1&o&&(t.TgZ(0,"section",21)(1,"h1",22),t._uU(2," Your WhishList Is Empty...\u{1f625}\u{1f625} "),t.qZA()())}let W=(()=>{class o{constructor(s,i,n,h){this._WashlistService=s,this._CartService=i,this._toastr=n,this._Renderer2=h}ngOnInit(){this.getWasteList()}getWasteList(){this._WashlistService.getWishlist().subscribe({next:s=>{this.allProduct=s.data},error:s=>{console.log(s)}})}addCart(s,i){this._Renderer2.setAttribute(i,"disabled","true"),this._CartService.addCart(s).subscribe({next:n=>{this._CartService.cartNumber.next(n.numOfCartItems),this._toastr.success(n.message+" \u{1f69b}"),this._Renderer2.removeAttribute(i,"disabled")},error:n=>{console.log(n),this._Renderer2.removeAttribute(i,"disabled")}})}removeFromWashlist(s){this._WashlistService.removeFromWashlist(s).subscribe({next:i=>{console.log(i),this._toastr.error(i.message+"\u{1f494}"),this.getWasteList()},error:i=>{console.log(i)}})}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(_.h),t.Y36(l.N),t.Y36(r._W),t.Y36(t.Qsj))};static#s=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-washlist"]],standalone:!0,features:[t.jDz],decls:5,vars:3,consts:[[1,"pb-4"],["class","fw-light",4,"ngIf"],["class","row shadow-sm gy-5 justify-content-center",4,"ngIf","ngIfElse"],["wishlist",""],[1,"fw-light"],[1,"row","shadow-sm","gy-5","justify-content-center"],["class","colm col-sm-6 col-md-4 col-lg-3 col-xl-2 p-1 py-4 position-relative",4,"ngFor","ngForOf"],[1,"colm","col-sm-6","col-md-4","col-lg-3","col-xl-2","p-1","py-4","position-relative"],[1,"product","pb-3"],["role","button",3,"routerLink"],["alt","",1,"w-100","p-2","pb-3",3,"src","alt"],[1,"h6","ps-3","text-main","fw-lighter"],[1,"h5","ps-3","text-black","fw-light"],[1,"d-flex","align-items-center","justify-content-between","px-3"],[1,"text-muted","small"],[1,"p-0"],[1,"star","fa-solid","fa-star"],["type","button",1,"add-btn","main-btn","w-75","mx-auto","d-block",3,"click"],["addBtn",""],[1,"p-3","heart",3,"click"],[1,"fa-solid","fa-heart-crack"],[1,"h-100"],[1,"my-5","p-3","text-center","text-capitalize","fw-light"]],template:function(i,n){if(1&i&&(t.TgZ(0,"section",0),t.YNc(1,c,2,0,"h3",1),t.YNc(2,E,2,1,"div",2),t.qZA(),t.YNc(3,x,3,0,"ng-template",null,3,t.W1O)),2&i){const h=t.MAs(4);t.xp6(1),t.Q6J("ngIf",n.allProduct.length>0),t.xp6(1),t.Q6J("ngIf",n.allProduct.length>0)("ngIfElse",h)}},dependencies:[a.ez,a.sg,a.O5,a.H9,d.rH,u.Q]})}return o})()},6286:(v,p,e)=>{e.d(p,{N:()=>t});var a=e(5619),d=e(4769),u=e(9862);let t=(()=>{class _{constructor(r){this._HttpClient=r,this.baseUrl="https://route-ecommerce.onrender.com",this.cartNumber=new a.X(0)}addCart(r){return this._HttpClient.post(this.baseUrl+"/api/v1/cart",{productId:r})}displayCart(){return this._HttpClient.get(this.baseUrl+"/api/v1/cart")}deletProduct(r){return this._HttpClient.delete(this.baseUrl+`/api/v1/cart/${r}`)}clearCart(){return this._HttpClient.delete(this.baseUrl+"/api/v1/cart")}changeCount(r,c){return this._HttpClient.put(this.baseUrl+`/api/v1/cart/${r}`,{count:c})}payment(r,c){return this._HttpClient.post(this.baseUrl+`/api/v1/orders/checkout-session/${r}?url=https://github.com/alifrag23/freshStore`,{shippingAddress:c})}payCash(r,c){return this._HttpClient.post(this.baseUrl+`/api/v1/orders/${r}`,{shippingAddress:c})}getAllOreder(r){return this._HttpClient.get(this.baseUrl+`/api/v1/orders/user/${r}`)}static#t=this.\u0275fac=function(c){return new(c||_)(d.LFG(u.eN))};static#s=this.\u0275prov=d.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},8801:(v,p,e)=>{e.d(p,{h:()=>u});var a=e(4769),d=e(9862);let u=(()=>{class t{constructor(l){this._HttpClient=l,this.baseUrl="https://ecommerce.routemisr.com"}addToWashlist(l){return this._HttpClient.post(this.baseUrl+"/api/v1/wishlist",{productId:l})}removeFromWashlist(l){return this._HttpClient.delete(this.baseUrl+`/api/v1/wishlist/${l}`)}getWishlist(){return this._HttpClient.get(this.baseUrl+"/api/v1/wishlist")}static#t=this.\u0275fac=function(r){return new(r||t)(a.LFG(d.eN))};static#s=this.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()}}]);