"use strict";(self.webpackChunkfreshCart=self.webpackChunkfreshCart||[]).push([[560],{6560:(b,u,a)=>{a.r(u),a.d(u,{RegisterComponent:()=>O});var d=a(6814),l=a(95),f=a(349),e=a(4769),c=a(5881),h=a(1120),Z=a(2425);function v(t,s){if(1&t&&(e.TgZ(0,"p",18),e._UZ(1,"i",19),e._uU(2),e.qZA()),2&t){const o=e.oxw();e.xp6(2),e.hij(" ",o.errorMessage," ")}}function T(t,s){1&t&&(e.TgZ(0,"p"),e._uU(1," Name is Required "),e.qZA())}function R(t,s){1&t&&(e.TgZ(0,"p"),e._uU(1," Name is minLength 3 "),e.qZA())}function q(t,s){1&t&&(e.TgZ(0,"p"),e._uU(1," Name is maxLength 10 "),e.qZA())}function I(t,s){if(1&t&&(e.TgZ(0,"div",20),e.YNc(1,T,2,0,"p",17),e.YNc(2,R,2,0,"p",17),e.YNc(3,q,2,0,"p",17),e.qZA()),2&t){const o=e.oxw();let n,r,i;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("name"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=o.registerForm.get("name"))?null:r.getError("minlength")),e.xp6(1),e.Q6J("ngIf",null==(i=o.registerForm.get("name"))?null:i.getError("maxlength"))}}function w(t,s){1&t&&(e.TgZ(0,"p"),e._uU(1," Email is Required "),e.qZA())}function E(t,s){1&t&&(e.TgZ(0,"p"),e._uU(1," Email is minLength 3 "),e.qZA())}function A(t,s){if(1&t&&(e.TgZ(0,"div",20),e.YNc(1,w,2,0,"p",17),e.YNc(2,E,2,0,"p",17),e.qZA()),2&t){const o=e.oxw();let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("email"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=o.registerForm.get("email"))?null:r.getError("email"))}}function C(t,s){1&t&&(e.TgZ(0,"p"),e._uU(1," Password is Required "),e.qZA())}function F(t,s){1&t&&(e.TgZ(0,"p"),e._uU(1," Password is minLength 3 "),e.qZA())}function x(t,s){if(1&t&&(e.TgZ(0,"div",20),e.YNc(1,C,2,0,"p",17),e.YNc(2,F,2,0,"p",17),e.qZA()),2&t){const o=e.oxw();let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("password"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=o.registerForm.get("password"))?null:r.getError("pattern"))}}function N(t,s){1&t&&(e.TgZ(0,"p"),e._uU(1," rePassword is Required "),e.qZA())}function P(t,s){1&t&&(e.TgZ(0,"p"),e._uU(1," Password confirmation is incorrect "),e.qZA())}function U(t,s){if(1&t&&(e.TgZ(0,"div",20),e.YNc(1,N,2,0,"p",17),e.YNc(2,P,2,0,"p",17),e.qZA()),2&t){const o=e.oxw();let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("rePassword"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=o.registerForm.get("rePassword"))?null:r.getError("misMatch"))}}function Y(t,s){1&t&&(e.TgZ(0,"p"),e._uU(1," Name is Required "),e.qZA())}function J(t,s){1&t&&(e.TgZ(0,"p"),e._uU(1," accept only egypt phone numbers "),e.qZA())}function M(t,s){if(1&t&&(e.TgZ(0,"div",20),e.YNc(1,Y,2,0,"p",17),e.YNc(2,J,2,0,"p",17),e.qZA()),2&t){const o=e.oxw();let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("phone"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=o.registerForm.get("phone"))?null:r.getError("pattern"))}}function Q(t,s){1&t&&(e.TgZ(0,"span"),e._uU(1,"Register"),e.qZA())}function y(t,s){1&t&&(e.TgZ(0,"span"),e._UZ(1,"i",21),e.qZA())}let O=(()=>{class t{constructor(o,n,r){this._AuthService=o,this._Router=n,this.toastr=r,this.errorMessage="",this.errorMessageState=!1,this.loadRequest=!1,this.registerForm=new l.cw({name:new l.NI("",[l.kI.required,l.kI.minLength(3),l.kI.maxLength(10)]),email:new l.NI("",[l.kI.required,l.kI.email]),password:new l.NI("",[l.kI.required,l.kI.pattern(/^[a-zA-Z0-9!@#$%*]{6,}$/)]),rePassword:new l.NI(""),phone:new l.NI("",[l.kI.pattern(/^01[0125][0-9]{8}$/)])},{validators:[this.confirmPassword]})}handelRegister(o){this.loadRequest=!0,this.registerForm.valid&&this._AuthService.registerForm(o.value).subscribe({next:n=>{this.loadRequest=!1,this._Router.navigate(["/login"])},error:n=>{this.loadRequest=!1,console.log(n),this.errorMessage=n.error.message,this.errorMessageState=!0}})}confirmPassword(o){const n=o.get("password"),r=o.get("rePassword");""==r?.value?r.setErrors({requerd:!0}):r?.value!=n?.value&&r?.setErrors({misMatch:!0})}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(c.e),e.Y36(h.F0),e.Y36(Z._W))};static#r=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],standalone:!0,features:[e._Bn([(0,f.iQ)()]),e.jDz],decls:32,vars:10,consts:[[1,"w-75","p-5","mx-auto","bg-body-tertiary","shadow-sm"],["class","alert alert-danger ps-1",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"py-2"],["for","name"],["type","text","id","name","placeholder","Enter Your Name","formControlName","name",1,"form-control"],["class","alert alert-danger py-0",4,"ngIf"],["for","email"],["type","text","id","email","placeholder","Enter Your Email","formControlName","email",1,"form-control"],["for","password"],["type","password","id","password","placeholder","Enter Your Passeord","formControlName","password",1,"form-control"],["for","rePassword"],["type","password","id","rePassword","placeholder","Enter Your rePassword","formControlName","rePassword",1,"form-control"],["for","phone"],["type","tel","id","phone","placeholder","Enter Your phone","formControlName","phone",1,"form-control"],[1,"d-flex","align-items-center","justify-content-end","ps-3"],["type","submit",1,"btn","main-btn",3,"disabled"],[4,"ngIf"],[1,"alert","alert-danger","ps-1"],[1,"px-3","fa-solid","fa-triangle-exclamation"],[1,"alert","alert-danger","py-0"],[1,"fa-solid","fa-spinner","fa-spin"]],template:function(n,r){if(1&n&&(e.TgZ(0,"section",0),e.YNc(1,v,3,1,"p",1),e.TgZ(2,"form",2),e.NdJ("ngSubmit",function(){return r.handelRegister(r.registerForm)}),e.TgZ(3,"div",3)(4,"label",4),e._uU(5,"Name"),e.qZA(),e._UZ(6,"input",5),e.YNc(7,I,4,3,"div",6),e.qZA(),e.TgZ(8,"div",3)(9,"label",7),e._uU(10,"email"),e.qZA(),e._UZ(11,"input",8),e.YNc(12,A,3,2,"div",6),e.qZA(),e.TgZ(13,"div",3)(14,"label",9),e._uU(15,"password"),e.qZA(),e._UZ(16,"input",10),e.YNc(17,x,3,2,"div",6),e.qZA(),e.TgZ(18,"div",3)(19,"label",11),e._uU(20,"rePassword"),e.qZA(),e._UZ(21,"input",12),e.YNc(22,U,3,2,"div",6),e.qZA(),e.TgZ(23,"div",3)(24,"label",13),e._uU(25,"phone"),e.qZA(),e._UZ(26,"input",14),e.YNc(27,M,3,2,"div",6),e.qZA(),e.TgZ(28,"div",15)(29,"button",16),e.YNc(30,Q,2,0,"span",17),e.YNc(31,y,2,0,"span",17),e.qZA()()()()),2&n){let i,g,p,_,m;e.xp6(1),e.Q6J("ngIf",r.errorMessageState),e.xp6(1),e.Q6J("formGroup",r.registerForm),e.xp6(5),e.Q6J("ngIf",(null==r.registerForm||null==(i=r.registerForm.get("name"))?null:i.errors)&&((null==(i=r.registerForm.get("name"))?null:i.touched)||(null==(i=r.registerForm.get("name"))?null:i.value.length)>0)),e.xp6(5),e.Q6J("ngIf",(null==r.registerForm||null==(g=r.registerForm.get("email"))?null:g.errors)&&((null==(g=r.registerForm.get("email"))?null:g.touched)||(null==(g=r.registerForm.get("email"))?null:g.value.length)>0)),e.xp6(5),e.Q6J("ngIf",(null==r.registerForm||null==(p=r.registerForm.get("password"))?null:p.errors)&&((null==(p=r.registerForm.get("password"))?null:p.touched)||(null==(p=r.registerForm.get("password"))?null:p.value.length)>0)),e.xp6(5),e.Q6J("ngIf",(null==r.registerForm||null==(_=r.registerForm.get("rePassword"))?null:_.errors)&&((null==(_=r.registerForm.get("rePassword"))?null:_.touched)||(null==(_=r.registerForm.get("rePassword"))?null:_.value.length)>0)),e.xp6(5),e.Q6J("ngIf",(null==r.registerForm||null==(m=r.registerForm.get("phone"))?null:m.errors)&&((null==(m=r.registerForm.get("phone"))?null:m.touched)||(null==(m=r.registerForm.get("phone"))?null:m.value.length)>0)),e.xp6(2),e.Q6J("disabled",r.registerForm.invalid),e.xp6(1),e.Q6J("ngIf",!r.loadRequest),e.xp6(1),e.Q6J("ngIf",r.loadRequest)}},dependencies:[d.ez,d.O5,l.UX,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u],styles:[".forget-btn[_ngcontent-%COMP%]{text-decoration:underline}"]})}return t})()}}]);