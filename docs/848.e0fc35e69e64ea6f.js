"use strict";(self.webpackChunkfreshCart=self.webpackChunkfreshCart||[]).push([[848],{848:(u,a,o)=>{o.r(a),o.d(a,{AllordersComponent:()=>r});var d=o(6814),t=o(4769),p=o(6286),c=o(5881);function n(e,l){if(1&e&&(t.TgZ(0,"div",13)(1,"div",14)(2,"div",15),t._UZ(3,"img",16),t.qZA(),t.TgZ(4,"div",17)(5,"p",18),t._uU(6),t.qZA(),t.TgZ(7,"p",19),t._uU(8),t.qZA(),t.TgZ(9,"p",1),t._uU(10),t.qZA()()()()),2&e){const s=l.$implicit;t.xp6(3),t.Q6J("src",s.product.imageCover,t.LSH),t.xp6(3),t.hij(" ",s.product.title.split(" ",5).join(" ")," "),t.xp6(2),t.hij("count :",s.count,""),t.xp6(2),t.hij("price:",s.price,"EGP")}}function _(e,l){if(1&e&&(t.TgZ(0,"div",4)(1,"div",5)(2,"h3"),t._uU(3),t.qZA(),t.TgZ(4,"div",6),t.YNc(5,n,11,4,"div",7),t.TgZ(6,"div",8)(7,"div",9)(8,"p"),t._uU(9," isDelivered: "),t.TgZ(10,"span",10),t._uU(11),t.qZA()(),t.TgZ(12,"p"),t._uU(13," isPaid: "),t.TgZ(14,"span",11),t._uU(15),t.qZA()(),t.TgZ(16,"p"),t._uU(17," paymentMethodType: "),t.TgZ(18,"span",12),t._uU(19),t.qZA()(),t.TgZ(20,"p"),t._uU(21," totalOrderPrice: "),t.TgZ(22,"span",12),t._uU(23),t.qZA()()()()()()()),2&e){const s=l.$implicit,i=l.index;t.xp6(3),t.hij("Order: ",i+1,""),t.xp6(2),t.Q6J("ngForOf",s.cartItems),t.xp6(6),t.Oqu(s.isDelivered),t.xp6(4),t.Oqu(s.isPaid),t.xp6(4),t.Oqu(s.paymentMethodType),t.xp6(4),t.Oqu(s.totalOrderPrice)}}let r=(()=>{class e{constructor(s,i){this._CartService=s,this._AuthService=i,this.userId="",this.allOrder=[]}ngOnInit(){this.getUserId(),this.getAllOrder(this.userId)}getUserId(){this._AuthService.userData(),this.userId=this._AuthService.userId}getAllOrder(s){this._CartService.getAllOreder(s).subscribe({next:i=>{this.allOrder=i},error:i=>{console.log(i)}})}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(p.N),t.Y36(c.e))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-allorders"]],standalone:!0,features:[t.jDz],decls:5,vars:1,consts:[[1,"w-75","mx-auto","p5","bg-body-secondary","main","mb-5"],[1,""],[1,"py-1","text-center","pt-3","fw-lighter","h3"],["class","p-3",4,"ngFor","ngForOf"],[1,"p-3"],[1,"container","px-4"],[1,"row","orders","bg-body-tertiary","shadow-sm"],["class","col-md-9",4,"ngFor","ngForOf"],[1,"col-md-3","orderDatails","text-capitalize","rounded-2","bg-body-secondary","shadow-sm","border"],[1,"p-2"],[1,"bg-danger-subtle","text-dark","rounded","rounded-3","ms-1","p-1"],[1,"p-1","bg-main","text-white","rounded","rounded-3","ms-1"],[1,"p-1"],[1,"col-md-9"],[1,"row","border-bottom","pt-2"],[1,"col-md-2","pb-1"],["alt","",1,"w-100",3,"src"],[1,"col-md-6","pb-2"],[1,"text-main","pt-3","h6"],[1,"pt-2"]],template:function(i,h){1&i&&(t.TgZ(0,"section",0)(1,"div",1)(2,"h1",2),t._uU(3,"All Orders"),t.qZA(),t.YNc(4,_,24,6,"div",3),t.qZA()()),2&i&&(t.xp6(4),t.Q6J("ngForOf",h.allOrder))},dependencies:[d.ez,d.sg],styles:["section[_ngcontent-%COMP%]{height:70vh;overflow:scroll}"]})}return e})()},6286:(u,a,o)=>{o.d(a,{N:()=>c});var d=o(5619),t=o(4769),p=o(9862);let c=(()=>{class n{constructor(r){this._HttpClient=r,this.baseUrl="https://route-ecommerce.onrender.com",this.cartNumber=new d.X(0)}addCart(r){return this._HttpClient.post(this.baseUrl+"/api/v1/cart",{productId:r})}displayCart(){return this._HttpClient.get(this.baseUrl+"/api/v1/cart")}deletProduct(r){return this._HttpClient.delete(this.baseUrl+`/api/v1/cart/${r}`)}clearCart(){return this._HttpClient.delete(this.baseUrl+"/api/v1/cart")}changeCount(r,e){return this._HttpClient.put(this.baseUrl+`/api/v1/cart/${r}`,{count:e})}payment(r,e){return this._HttpClient.post(this.baseUrl+`/api/v1/orders/checkout-session/${r}?url=https://github.com/alifrag23/freshStore`,{shippingAddress:e})}payCash(r,e){return this._HttpClient.post(this.baseUrl+`/api/v1/orders/${r}`,{shippingAddress:e})}getAllOreder(r){return this._HttpClient.get(this.baseUrl+`/api/v1/orders/user/${r}`)}static#t=this.\u0275fac=function(e){return new(e||n)(t.LFG(p.eN))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()}}]);