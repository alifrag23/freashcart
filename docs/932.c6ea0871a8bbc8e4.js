"use strict";(self.webpackChunkfreshCart=self.webpackChunkfreshCart||[]).push([[932],{6666:(E,u,a)=>{a.r(u),a.d(u,{LoginComponent:()=>C});var p=a(6814),r=a(95),m=a(1120),e=a(4769),_=a(5881);function d(n,l){if(1&n&&(e.TgZ(0,"p",13),e._UZ(1,"i",14),e._uU(2),e.qZA()),2&n){const i=e.oxw();e.xp6(2),e.hij(" ",i.errorMessage," ")}}function f(n,l){1&n&&(e.TgZ(0,"p"),e._uU(1," Email is Required "),e.qZA())}function c(n,l){1&n&&(e.TgZ(0,"p"),e._uU(1," Email is minLength 3 "),e.qZA())}function L(n,l){if(1&n&&(e.TgZ(0,"div",15),e.YNc(1,f,2,0,"p",12),e.YNc(2,c,2,0,"p",12),e.qZA()),2&n){const i=e.oxw();let t,o;e.xp6(1),e.Q6J("ngIf",null==(t=i.LoginForm.get("email"))?null:t.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(o=i.LoginForm.get("email"))?null:o.getError("email"))}}function h(n,l){1&n&&(e.TgZ(0,"p"),e._uU(1," Password is Required "),e.qZA())}function Z(n,l){1&n&&(e.TgZ(0,"p"),e._uU(1," Password is minLength 3 "),e.qZA())}function T(n,l){if(1&n&&(e.TgZ(0,"div",15),e.YNc(1,h,2,0,"p",12),e.YNc(2,Z,2,0,"p",12),e.qZA()),2&n){const i=e.oxw();let t,o;e.xp6(1),e.Q6J("ngIf",null==(t=i.LoginForm.get("password"))?null:t.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(o=i.LoginForm.get("password"))?null:o.getError("pattern"))}}function v(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1,"Login"),e.qZA())}function A(n,l){1&n&&(e.TgZ(0,"span"),e._UZ(1,"i",16),e.qZA())}let C=(()=>{class n{constructor(i,t){this._AuthService=i,this._Router=t,this.errorMessage="",this.errorMessageState=!1,this.loadRequest=!1,this.LoginForm=new r.cw({email:new r.NI("",[r.kI.required,r.kI.email]),password:new r.NI("",[r.kI.required,r.kI.pattern(/^[a-zA-Z0-9!@#$%*]{6,}$/)])})}handelLogin(i){this.loadRequest=!0,this.LoginForm.valid&&this._AuthService.loginForm(i.value).subscribe({next:t=>{this.loadRequest=!1,(t.message="success")&&(localStorage.setItem("_token",t.token),this._Router.navigate(["/home"]),this._AuthService.userData())},error:t=>{this.loadRequest=!1,this.errorMessage=t.error.message,this.errorMessageState=!0}})}static#e=this.\u0275fac=function(t){return new(t||n)(e.Y36(_.e),e.Y36(m.F0))};static#n=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],standalone:!0,features:[e.jDz],decls:19,vars:7,consts:[[1,"w-75","p-5","mx-auto","bg-body-tertiary","shadow-sm"],["class","alert alert-danger ps-1",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"py-2"],["for","email"],["type","text","id","email","placeholder","Enter Your Email","formControlName","email",1,"form-control"],["class","alert alert-danger py-0",4,"ngIf"],["for","password"],["type","password","id","password","placeholder","Enter Your Passeord","formControlName","password",1,"form-control"],[1,"d-flex","align-items-center","justify-content-between","ps-3"],["routerLink","/forgtPass",1,"forget-btn"],["type","submit",1,"btn","main-btn",3,"disabled"],[4,"ngIf"],[1,"alert","alert-danger","ps-1"],[1,"px-3","fa-solid","fa-triangle-exclamation"],[1,"alert","alert-danger","py-0"],[1,"fa-solid","fa-spinner","fa-spin"]],template:function(t,o){if(1&t&&(e.TgZ(0,"section",0),e.YNc(1,d,3,1,"p",1),e.TgZ(2,"form",2),e.NdJ("ngSubmit",function(){return o.handelLogin(o.LoginForm)}),e.TgZ(3,"div",3)(4,"label",4),e._uU(5,"email"),e.qZA(),e._UZ(6,"input",5),e.YNc(7,L,3,2,"div",6),e.qZA(),e.TgZ(8,"div",3)(9,"label",7),e._uU(10,"password"),e.qZA(),e._UZ(11,"input",8),e.YNc(12,T,3,2,"div",6),e.qZA(),e.TgZ(13,"div",9)(14,"a",10),e._uU(15,"forget Password"),e.qZA(),e.TgZ(16,"button",11),e.YNc(17,v,2,0,"span",12),e.YNc(18,A,2,0,"span",12),e.qZA()()()()),2&t){let s,g;e.xp6(1),e.Q6J("ngIf",o.errorMessageState),e.xp6(1),e.Q6J("formGroup",o.LoginForm),e.xp6(5),e.Q6J("ngIf",(null==o.LoginForm||null==(s=o.LoginForm.get("email"))?null:s.errors)&&((null==(s=o.LoginForm.get("email"))?null:s.touched)||(null==(s=o.LoginForm.get("email"))?null:s.value.length)>0)),e.xp6(5),e.Q6J("ngIf",(null==o.LoginForm||null==(g=o.LoginForm.get("password"))?null:g.errors)&&((null==(g=o.LoginForm.get("password"))?null:g.touched)||(null==(g=o.LoginForm.get("password"))?null:g.value.length)>0)),e.xp6(4),e.Q6J("disabled",o.LoginForm.invalid),e.xp6(1),e.Q6J("ngIf",!o.loadRequest),e.xp6(1),e.Q6J("ngIf",o.loadRequest)}},dependencies:[p.ez,p.O5,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,m.rH]})}return n})()}}]);