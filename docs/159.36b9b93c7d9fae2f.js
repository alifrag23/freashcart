"use strict";(self.webpackChunkfreshCart=self.webpackChunkfreshCart||[]).push([[159],{159:(M,m,n)=>{n.r(m),n.d(m,{HomeComponent:()=>U});var c=n(6814),l=n(756),p=n(1409),g=n(1120),t=n(4769),d=n(1132),u=n(6286),h=n(2425),f=n(8801);function x(s,a){1&s&&t._UZ(0,"img",14)}function v(s,a){1&s&&t._UZ(0,"img",15)}function C(s,a){1&s&&t._UZ(0,"img",16)}function T(s,a){1&s&&(t.TgZ(0,"h3",17),t._uU(1,"Popular Categories"),t.qZA())}function Z(s,a){if(1&s&&(t._UZ(0,"img",18),t.TgZ(1,"h4",19),t._uU(2),t.qZA()),2&s){const e=t.oxw().$implicit;t.Q6J("src",e.image,t.LSH)("alt",e.name),t.xp6(2),t.Oqu(e.name)}}function A(s,a){1&s&&(t.ynx(0),t.YNc(1,Z,3,3,"ng-template",4),t.BQk())}function D(s,a){1&s&&(t.TgZ(0,"h3"),t._uU(1,"Popular Products"),t.qZA())}function P(s,a){if(1&s&&t._UZ(0,"i",33),2&s){const e=a.$implicit,i=t.oxw().$implicit;t.ekj("star",i.ratingsAverage>e)}}function E(s,a){if(1&s){const e=t.EpF();t.TgZ(0,"span",34),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw();return t.KtG(r.addToWashList(o._id))}),t._UZ(1,"i",35),t.qZA()}}function O(s,a){if(1&s){const e=t.EpF();t.TgZ(0,"span",34),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw();return t.KtG(r.removeFromWashlist(o._id))}),t._UZ(1,"i",36),t.qZA()}}const b=function(s){return["/productdetails",s]},w=function(){return[1,2,3,4,5]};function y(s,a){if(1&s){const e=t.EpF();t.TgZ(0,"div",20)(1,"div",21)(2,"div",22),t._UZ(3,"img",23),t.TgZ(4,"h3",24),t._uU(5),t.qZA(),t.TgZ(6,"h4",25),t._uU(7),t.ALo(8,"cutText"),t.qZA(),t.TgZ(9,"div",26)(10,"span",27),t._uU(11),t.ALo(12,"currency"),t.qZA(),t.TgZ(13,"span",28),t.YNc(14,P,1,2,"i",29),t._uU(15),t.qZA()()(),t.TgZ(16,"button",30,31),t.NdJ("click",function(){const r=t.CHM(e).$implicit,_=t.MAs(17),H=t.oxw();return t.KtG(H.addCart(r._id,_))}),t._uU(18," + Add To Cart "),t.qZA(),t.YNc(19,E,2,0,"span",32),t.YNc(20,O,2,0,"span",32),t.qZA()()}if(2&s){const e=a.$implicit,i=t.oxw();t.xp6(2),t.Q6J("routerLink",t.VKq(16,b,e._id)),t.xp6(1),t.Q6J("src",e.imageCover,t.LSH)("alt",e.title),t.xp6(2),t.hij(" ",e.category.name," "),t.xp6(2),t.hij(" ",t.xi3(8,10,e.title,3)," "),t.xp6(4),t.hij("",t.xi3(12,13,e.price,"EGP")," "),t.xp6(3),t.Q6J("ngForOf",t.DdM(18,w)),t.xp6(1),t.hij(" ",e.ratingsAverage," "),t.xp6(4),t.Q6J("ngIf",!i.washListData.includes(e._id)),t.xp6(1),t.Q6J("ngIf",i.washListData.includes(e._id))}}let U=(()=>{class s{constructor(e,i,o,r,_){this._ProductsService=e,this._CartService=i,this._toastr=o,this._Renderer2=r,this._WashlistService=_,this.allProduct=[],this.allCategory=[],this.washListData=[],this.customOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,autoplay:!0,autoplayTimeout:2e3,autoplaySpeed:1e3,dots:!1,navSpeed:700,navText:["",""],responsive:{0:{items:1},400:{items:2},740:{items:3},940:{items:4}},nav:!1},this.mainSlider={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,autoplay:!0,autoplayTimeout:2e3,autoplaySpeed:800,dots:!1,navSpeed:700,navText:["",""],items:1,nav:!0}}ngOnInit(){this.getAllProducts(),this.getAllCtegory(),this.getWashlist()}getAllProducts(){this._ProductsService.getAllProduct().subscribe({next:e=>{this.allProduct=e.data},error:e=>{console.log(e)}})}getAllCtegory(){this._ProductsService.getAllCtegory().subscribe({next:e=>{this.allCategory=e.data},error:e=>{console.log(e)}})}addCart(e,i){this._Renderer2.setAttribute(i,"disabled","true"),this._CartService.addCart(e).subscribe({next:o=>{console.log(o),this._CartService.cartNumber.next(o.numOfCartItems),this._toastr.success(o.message+" \u{1f69b}"),this._Renderer2.removeAttribute(i,"disabled")},error:o=>{console.log(o),this._Renderer2.removeAttribute(i,"disabled")}})}addToWashList(e){this._WashlistService.addToWashlist(e).subscribe({next:i=>{this._toastr.success(i.message+"\u{1f49a}"),this.washListData=i.data},error:i=>{console.log(i)}})}removeFromWashlist(e){this._WashlistService.removeFromWashlist(e).subscribe({next:i=>{this._toastr.error(i.message+"\u{1f494}"),this.washListData=i.data},error:i=>{console.log(i)}})}getWashlist(){this._WashlistService.getWishlist().subscribe({next:e=>{const i=e.data.map(o=>o._id);this.washListData=i},error:e=>{console.log(e)}})}static#t=this.\u0275fac=function(i){return new(i||s)(t.Y36(d.s),t.Y36(u.N),t.Y36(h._W),t.Y36(t.Qsj),t.Y36(f.h))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-home"]],standalone:!0,features:[t.jDz],decls:19,vars:6,consts:[[1,"py-1","mb-0","pb-0"],[1,"row","gx-0"],[1,"col-md-9"],[3,"options"],["carouselSlide",""],[1,"col-md-3"],["src","./assets/images/slide-1.jpeg","alt","slide-1 image","height","200",1,"w-100"],["src","./assets/images/slide-2.jpeg","alt","slide-2 image","height","200",1,"w-100"],[1,"pb-4"],["class","py-1",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"row","shadow-sm","gy-5"],["class","colm col-sm-6 col-md-4 col-lg-3 col-xl-2 p-1 position-relative",4,"ngFor","ngForOf"],["src","./assets/images/main-slider-1.jpeg","height","400","alt","main-slider imge",1,"w-100"],["src","./assets/images/main-slider-2.jpeg","height","400","alt","main-slider imge",1,"w-100"],["src","./assets/images/main-slider-3.jpeg","height","400","alt","main-slider imge",1,"w-100"],[1,"py-1"],["alt","","height","300",3,"src","alt"],[1,"h6","fw-lighter","text-center","text-main"],[1,"colm","col-sm-6","col-md-4","col-lg-3","col-xl-2","p-1","position-relative"],[1,"product","pb-3"],["role","button",3,"routerLink"],["alt","",1,"w-100","p-2","pb-3",3,"src","alt"],[1,"h6","ps-3","text-main","fw-lighter"],[1,"h5","ps-3","text-black","fw-light"],[1,"d-flex","align-items-center","justify-content-between","px-3"],[1,"text-muted","small"],[1,"p-0"],["class","fa-solid fa-star",3,"star",4,"ngFor","ngForOf"],["type","button",1,"add-btn","main-btn","w-75","mx-auto","d-block",3,"click"],["addBtn",""],["class","p-3 heart",3,"click",4,"ngIf"],[1,"fa-solid","fa-star"],[1,"p-3","heart",3,"click"],[1,"text-main","fs-2","fa-solid","fa-heart"],[1,"fa-solid","fa-heart-crack"]],template:function(i,o){1&i&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div")(4,"owl-carousel-o",3),t.YNc(5,x,1,0,"ng-template",4),t.YNc(6,v,1,0,"ng-template",4),t.YNc(7,C,1,0,"ng-template",4),t.qZA()()(),t.TgZ(8,"div",5),t._UZ(9,"img",6)(10,"img",7),t.qZA()()(),t.TgZ(11,"section",8),t.YNc(12,T,2,0,"h3",9),t.TgZ(13,"owl-carousel-o",3),t.YNc(14,A,2,0,"ng-container",10),t.qZA()(),t.TgZ(15,"section",8),t.YNc(16,D,2,0,"h3",11),t.TgZ(17,"div",12),t.YNc(18,y,21,19,"div",13),t.qZA()()),2&i&&(t.xp6(4),t.Q6J("options",o.mainSlider),t.xp6(8),t.Q6J("ngIf",o.allCategory.length>0),t.xp6(1),t.Q6J("options",o.customOptions),t.xp6(1),t.Q6J("ngForOf",o.allCategory.slice(1,10)),t.xp6(2),t.Q6J("ngIf",o.allProduct.length>0),t.xp6(2),t.Q6J("ngForOf",o.allProduct.slice(0,18)))},dependencies:[c.ez,c.sg,c.O5,c.H9,l.bB,l.Fy,l.Mp,p.Q,g.rH]})}return s})()}}]);